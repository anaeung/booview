<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ЛР 15</title>
<style>
    body {
        font-family: "Times New Roman Полужирный", "Times New Roman Обычный", "Times New Roman", sans-serif;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #eee; /* Цвет фона страницы */
    }

    form {
        width: 300px;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f9f9f9;
    }

    input[type="text"],
    input[type="password"],
    input[type="submit"] {
        width: 100%;
        margin-bottom: 10px;
        padding: 10px;
        box-sizing: border-box;
        border: 1px solid  #665238; 
        border-radius: 3px;
        background-color: #fff; 
    }

    input[type="submit"] {
        background-color:  #665238; 
        color: #fff; 
        cursor: pointer;
    }

    #secretData {
        margin-top: 500px;
		margin-left: -310px;
        border: 1px solid #ccc;
        padding: 20px;
        border-radius: 5px;
        background-color: #f9f9f9;
    }

    #cookieData {
        color:  #665238; 
    }
</style>
</head>
<body>
    <form id="loginForm">
        <label for="username">Логин:</label><br>
        <input type="text" id="username" name="username"><br>
        <label for="password">Пароль:</label><br>
        <input type="password" id="password" name="password"><br>
        <label for="secretWord">Секретное слово:</label><br>
        <input type="password" id="secretWord" name="secretWord"><br><br>
        <input type="submit" value="Показать секретные данные">
    </form>

    <div id="secretData" style="display: none;">
        <h2>Секретные данные:</h2>
        <p id="cookieData"></p>
    </div>

    <script>
        document.getElementById("loginForm").addEventListener("submit", function(event) {
            event.preventDefault();
            var username = document.getElementById("username").value;
            var password = document.getElementById("password").value;
            var secretWord = document.getElementById("secretWord").value;

            // Проверяем правильность секретного слова
            if (secretWord === "слезы") {
                var data = "Логин: " + username + ", Пароль: " + password;
                document.getElementById("cookieData").innerText = data;
                document.getElementById("secretData").style.display = "block";
                // Сохраняем данные в cookie на 2 дня
                var expiryDate = new Date();
                expiryDate.setDate(expiryDate.getDate() + 2);
                document.cookie = "userData=" + encodeURIComponent(data) + "; expires=" + expiryDate.toUTCString() + "; path=/";
            } else {
                alert("Неправильное секретное слово");
            }
        });

        // Проверяем cookie при загрузке страницы
        window.onload = function() {
            var cookies = document.cookie.split(";").map(function(cookie) {
                return cookie.trim().split("=");
            });
            for (var i = 0; i < cookies.length; i++) {
                if (cookies[i][0] === "userData") {
                    document.getElementById("cookieData").innerText = decodeURIComponent(cookies[i][1]);
                    document.getElementById("secretData").style.display = "block";
                    break;
                }
            }
        };

        // Удаляем cookie при закрытии браузера
        window.onbeforeunload = function() {
            document.cookie = "userData=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        };
    </script>
</body>
</html>
